!function(){function hidePreloader(){$("#loader-wrapper").fadeOut("slow")}function activeEl(t){$(t).closest("table").find("td").removeClass("active"),$(t).addClass("active")}function getLocaleText(){$.ajax({url:"http://cdn.anychart.com/locale/1.1.0/index.json",success:function(t){for(var a,e=t,n=$(".language-locale").find("tbody"),r=0;r<e["anychart-locales"].locales.length;r++)a=e["anychart-locales"].locales[r],n.append('<tr><td data-locale-src="'+a.url+'" data-code="'+a.code+'">'+a.englishName+" - "+a.nativeName+"</td></tr>");askEventLanguageLocale()}})}function getDateTimePattern(t){var a="formats/"+t+".js";loadScript(a,changePattern,t)}function changePattern(t){var a=$(".date-pattern").find("tbody");a.empty();for(var e=0;e<formats[t].length;e++)a.append("<tr><td>"+formats[t][e]+"</td></tr>");askEventDatePattern()}function loadScript(t,a,e){var n=$("body")[0],r=document.createElement("script"),o='script[src="'+t+'"]';if(array_url.unshift(t),r.src=t,0==$(o).length&&n.appendChild(r),"changeLocale"===a.name)r.onload=a(e);else if("changePattern"===a.name){var i=!1;r.onload=r.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,a(e),displayFormatArray(t,e),displayFullSource(array_url))}}displayLocaleJSON(t)}function displayLocaleJSON(url){url.indexOf("formats")===-1&&$.ajax({url:url,success:function(source){var code=JSON.stringify(eval(source),null,"\t"),$lang_json=$("#locale-json").find(".language-json");$lang_json.text(code),Prism.highlightElement($lang_json[0])}})}function displayFormatArray(t,a){if(t.indexOf("formats")!==-1){var e=$("#format-array").find(".language-javascript"),n="var formats = {};\nformats['"+a+"'] = ",r=formats[a].map(function(t,a){return 0==a?'"'+t+'"':'\t\t\t\t\t"'+t+'"'});e.text(n+"["+r.join(",\n")+"]"),Prism.highlightElement(e[0])}}function displayFullSource(t){for(var a=$(".language-markup"),e=text_doc.substr(0,text_doc.indexOf("</body>")),n=0;n<array_url.length;n++)e.indexOf(t[n])==-1&&(e+="\n",e+='<script src="'+t[n]+'"></script>');e+="\n</body>",array_url=[],a.text(e),Prism.highlightElement(a[0])}function disposeChart(){map&&(map.dispose(),map=null)}function changeLocale(t){function a(){if(void 0!=window.anychart.format.locales[t]){var a=$(".date-pattern").find("td.active").text();clearInterval(e),disposeChart(),createChart(chart_container,t,a)}}if("string"==typeof t&&anychart.format.outputLocale()!=t)var e=setInterval(a,50)}function changeDatePattern(t,a){var e=anychart.format.outputLocale();disposeChart(),createChart(chart_container,e,t),changeInputFormat(t,a)}function askEventLanguageLocale(){$(".language-locale").find("td").on("click",function(){var t=$(this),a=t.attr("data-locale-src"),e=t.attr("data-code");loadScript(a,changeLocale,e),getDateTimePattern(e),activeEl(t)}).first().trigger("click")}function askEventDatePattern(){$(".date-pattern").find("td").on("click",function(){var t=$(this);activeEl(t),changeInputPattern(t.text()),changeDatePattern(t.text())})}function changeInputPattern(t){$(".format-pattern-input").val(t)}function changeInputFormat(t,a){var e=anychart.format.outputLocale(),n=new Date,r=anychart.format.dateTime(n,t,-480,e);void 0===a?$(".format-input").val(r):$("#custom-example-format-input").val(r)}function createChart(t,a,e){var n="EEEE, dd MMMM yyyy - hh:mm";e&&(n=e),anychart.format.outputLocale(a),anychart.format.outputDateTimeFormat(n);var r=anychart.data.set([{size:8848,name:"Everest",label:{anchor:"leftBottom",position:"top"},summiters:"Edmund Hillary, Tenzing Norgay",ascent:Date.UTC(1953,5,29),lat:27.986065,long:86.922623},{size:8586,name:"Kangchenjunga",label:{anchor:"rightTop",position:"bottom"},summiters:"George Band, Joe Brown",ascent:Date.UTC(1955,5,25),lat:27.702491,long:88.147535},{size:8516,name:"Lhotse",label:{anchor:"rightTop",position:"left"},summiters:"Fritz Luchsinger, Ernst Reiss",ascent:Date.UTC(1956,5,18),lat:27.962637,long:86.933615},{size:8485,name:"Makalu",label:{anchor:"left",position:"right"},summiters:"Jean Couzy, Lionel Terray",ascent:Date.UTC(1956,5,15),lat:27.88931,long:87.08862},{size:8201,name:"Cho Oyu",summiters:"Joseph Joechler, Pasang Dawa Lama,<br/>Herbert Tichy",ascent:Date.UTC(1954,10,19),lat:28.094197,long:86.660708},{size:8167,name:"Dhaulagiri",summiters:"Kurt Diemberger, Peter Diener,<br/>Nawang Dorje, Nima Dorje, Ernst Forrer, Albin Schelbert",ascent:Date.UTC(1960,5,13),lat:28.69757,long:83.49241},{size:8163,name:"Manaslu",label:{anchor:"left",position:"right"},summiters:"Toshio Imanishi, Gyalzen Norbu",ascent:Date.UTC(1956,5,9),lat:28.54997,long:84.559612},{size:8091,name:"Annapurna",label:{anchor:"rightTop",position:"left"},height:8091,summiters:"Maurice Herzog, Louis Lachenal",ascent:Date.UTC(1960,6,3),lat:28.596629,long:83.819701}]),o={map:{unboundRegions:{enabled:!0,fill:"#E1E1E1",stroke:"#D2D2D2"}}};anychart.theme(o),map=anychart.map(),map.geoData(anychart.maps.nepal);var i=map.title();i.enabled(!0),i.useHtml(!0),i.text("Eight-thousanders of Nepal with first-ascent date."),i.padding([20,0,0,0]),map.maxBubbleSize(7),map.minBubbleSize(3);var l=map.bubble(r);l.fill("#1976d2 0.6"),l.stroke("1 #1976d2 0.9"),l.labels().enabled(!0).anchor("right").position("left").offsetX(3).padding(0).fontColor("#212121").useHtml(!0).textFormatter(function(){return anychart.format.dateTime(this.getDataValue("ascent"))}),l.hoverLabels().fontWeight("bold"),l.selectionMode("none"),l.tooltip({background:{fill:"white",stroke:"#c1c1c1",corners:3,cornerType:"ROUND"},padding:[8,13,10,13]}),l.tooltip().textWrap("byLetter").useHtml(!0),l.tooltip().title().fontColor("#7c868e").useHtml(!0),l.tooltip().titleFormatter(function(){var t=' (<span style="color: #545f69; font-size: 12px; font-weight: bold">';return this.getDataValue("name")+t+this.getDataValue("size")+"</span>m</strong>)"}),l.tooltip().fontColor("#7c868e").textFormatter(function(){return'First Ascent: <span style="color: #545f69; font-size: 12px">'+anychart.format.dateTime(this.getDataValue("ascent"))+'</span></strong><br/>First Summiters: <span style="color: #545f69; font-size: 12px">'+this.getDataValue("summiters")+"</span></strong>"}),l.geoIdField("code_hasc"),map.container(t),map.draw()}function placeBlocks(){var t=window.matchMedia("(max-width: 768px)");t.matches?$(".preview-container").detach().insertAfter(".tables-container"):$(".tables-container").detach().insertAfter(".preview-container")}var map,text_doc=document.documentElement.innerHTML,array_url=[],chart_container="map-chart";formats={},anychart.onDocumentReady(function(){$(".tabs-control a").click(function(t){t.preventDefault(),$(this).tab("show")}),$("#custom-format").find(".format-pattern-input").on("keyup",function(){changeDatePattern($(this).val(),!0)}),getLocaleText()}),$(window).on("load",function(){placeBlocks(),hidePreloader()}),$(window).on("resize",function(){placeBlocks()})}();